---
# 本番環境固有の設定

all:
  children:
    production:
      hosts:
        production-server:
          ansible_host: 219.94.248.165
          ansible_user: ssh-admin
          ansible_ssh_private_key_file: "~/.ssh/id_ed25519" # ワークフローの作成パスに合わせる
          ansible_python_interpreter: /usr/bin/python3
          ansible_become: yes
          
          # 環境固有の生の値
          domain_name: nara-sketch.com
          deployment_dir: "/opt/art-gallery"
          app_user: "artgallery"
          client_max_body_size: "100M"

          # Backend/Nginx 設定
          flask_env: "production"
          debug: false

          # SSL設定
          ssl_enabled: true
          ssl_certificate: "/etc/letsencrypt/live/{{ domain_name }}/fullchain.pem"
          ssl_certificate_key: "/etc/letsencrypt/live/{{ domain_name }}/privkey.pem"

          # Nginx ポート設定
          nginx_http_external_port: 80
          nginx_https_external_port: 443
          
          # Backend ホスト・ポート
          backend_host: backend
          backend_port: 8080

          # Database ホスト・ポート
          database_host: postgres
          database_port: 5432
          database_name: art_gallery
          database_user: artuser

          # Dockerイメージ名
          image_names:
            postgres: "{{ ghcr_base_registry }}/{{ github_owner }}/{{ service_repo_names.postgres }}"
            backend: "{{ ghcr_base_registry }}/{{ github_owner }}/{{ service_repo_names.backend }}"
            nginx: "{{ ghcr_base_registry }}/{{ github_owner }}/{{ service_repo_names.nginx }}"
            frontend: "{{ ghcr_base_registry }}/{{ github_owner }}/{{ service_repo_names.frontend }}"